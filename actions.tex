\csname @openrightfalse\endcsname
\chapter{Actions and coverings}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%???oder???
\subsection*{Bounded orbit}
\label{Bounded orbit}

Recall that a metric space is called \index{proper metric space}\emph{proper} if all its bounded closed sets are compact.

\begin{pr} Let $X$ be a 
proper metric space 
and $\iota\:X\to X$ an isometry.
Assume that for some $x\in X$, the sequence $x_n\z=\iota^n(x)$, $n\in\ZZ$ has a converging subsequence.
Prove that $x_n$ is bounded.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parit{Semisolution.}
Note that we can assume that the orbit $\{x_n\}$ is dense in $X$;
otherwise we can pass to the closure of the orbit.
In particular, we can choose a finite number of positive integer values $n_1,\dots,n_k$
such that the set of points $\{x_{n_1},\dots,x_{n_k}\}$ is a $1$-net for the ball $B(x_0,10)$;
that is, for any $x\in B(x_0,10)$ there is $x_{n_i}$ such that
\[|x-x_{n_i}|<1.\]

Assume $x_m\in B(x_0,1)$ for some $m$.
Then 
\[B(x_m,10)=f^m( B(x_0,10))\supset B(x_0,1).\] 
In particular, $\{x_{m+n_1},\dots,x_{m+n_k}\}$ is a $1$-net for the ball $B(x_0,1)$
Therefore $x_{m+n_i}\in B(x_0,1)$ for some $i\z\in\{1,\dots,k\}$.

Set $N=\max_i\{n_i\}$.
Applying the above observation inductively, we get that from any string $x_{i+1},\dots x_{i+N}$
at least one point lies in $B(x_0,1)$.
In particular, the $N$ balls
\[B(x_1,10),\dots,B(x_N,10)\]
cover whole $X$.
Hence the result follows.\qeds

The problem is due to Aleksander Ca{\l}ka's \cite[see][]{calka}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Finite action}\label{Finite action}

\begin{pr}
Show that for any nontrivial continuous action of a finite group on the unit sphere
there is an orbit that does not lie in the interior of a hemisphere.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\subsection*{Covers of the figure eight}\label{figure-eight-1}

Given a covering 
\[f\:\tilde X \to X\]
of the length-metric space $X$,
one can consider the induced length-metric on $\tilde X$
defining length of curve $\alpha$ in $X$ as the length of the composition $f\circ\alpha$; the obtained metric space $\tilde X$ is called the  \index{metric covering}\emph{metric covering} of $X$.

{

\begin{wrapfigure}[3]{r}{28 mm}
\begin{lpic}[t(-7 mm),b(-5 mm),r(0 mm),l(0 mm)]{pics/figure-eight(1)}
\end{lpic}
\end{wrapfigure}

Let us define the \index{figure eight}\emph{figure eight} as the length-metric space obtained by gluing together all four ends of two unit segments.

}

\begin{pr}
Show that any compact length-metric space 
is a Gromov--Hausdorff limit of a sequence of
metric covers  
\[(\widetilde \Phi_n, \tilde d/n)\to(\Phi,d/n),\]
where $(\Phi,d)$ denotes the figure eight.
\end{pr}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Diameter of \textit{m}-fold cover\hard}\label{m-fold-cover}

The metric covering is defined in the previous problem.

\begin{pr}
Let $X$ be a length-metric space
and $\tilde X$ be its $m$-fold metric covering.
Show that
$$\diam\tilde X\le m\cdot \diam X.$$
\end{pr}

From the diagram below you could guess an example of 5-fold cover with the diameter of the total space being exactly 5 times the diameter of the target.

\begin{center}
\begin{lpic}[t(0mm),b(0 mm),r(0 mm),l(0 mm)]{pics/5-fold(1)}
\lbl[t]{49,4.5;$\to$}
\end{lpic}
\end{center}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Symmetric square\easy}\label{Symmetric square}

Let $X$ be a topological space.
Note that $X{\times} X$ admits a natural $\ZZ_2$-action generated by the involution $(x,y)\mapsto (y,x)$.
The quotient  space $X{\times} X/\ZZ_2$ is called \index{symmetric square}\emph{symmetric square} of $X$.

\begin{pr} 
Show that the symmetric square 
of any path connected topological space 
has commutative fundamental group.
\end{pr}

{

\begin{wrapfigure}[4]{r}{23 mm}
\begin{lpic}[t(2 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/serpinski-triangle(1)}
\end{lpic}
\end{wrapfigure}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Sierpi\'nski gasket\easy}\label{Sierpinski triangle}

To construct Sierpi\'nski gasket, start with a solid  equilateral triangle, subdivide it into four smaller congruent equilateral triangles and remove the interior of the central one.
Repeat this procedure recursively for each of the remaining solid triangles.

}

\begin{pr} 
Find the homeomorphism group of the Sierpi\'nski gasket.
\end{pr}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Lattices in a Lie group}\label{Boys and girls in a Lie group}

\begin{pr}
Let $L$ and $M$ be two discrete subgroups
of a connected Lie group $G$ and $h$ be a left
invariant metric on $G$.
Equip the groups $L$ and $M$ 
with the metrics induced from $G$.
Assume $L\backslash G$ and $M\backslash G$ are compact and
$$\vol(L\backslash (G,h))
=
\vol(M\backslash (G,h)).$$
Prove that there is a bi-Lipschitz one-to-one mapping $f\:L
\to
M$, not necessarily a homomorphism.
\end{pr}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Piecewise Euclidean quotient}\label{Piecewise Euclidean quotient}

Note that the quotient of the Euclidean space by a finite subgroup of $\SO(m)$ is a {}\emph{polyhedral space} as is defined on page \pageref{piecewise linear map};
on the same page you can find the definition of piecewise linear homeomorphism.


\begin{pr}
Let $\Gamma$ be a finite subgroup of $\SO(m)$.
Denote by $P$ the quotient $\RR^m/\Gamma$ equipped with the induced
polyhedral metric.
Assume $P$ admits a piecewise linear homeomorphism to $\RR^m$.
Show that $\Gamma$ is generated by rotations  around subspaces of codimension $2$.
\end{pr}

The action of the symmetric group $S_m$ on $\CC^m=\RR^{2\cdot m}$ by permuting the complex coordinates provides a remarkable example.
The homeomorphism $\CC^m/S_m\to \CC^m$ can be given by symmetric polynomials on $\CC^m$;
that is, $(z_1,\dots,z_m)\mapsto (a_0,\dots,a_{m-1})$ if
\[(z-z_1)\cdots(z-z_m)=a_0+a_1\cdot z+\dots+a_{m-1}\cdot z^{m-1}+z^m.\]
This homeomorphism is isotopic to a piecewise linear homeomorphism.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Subgroups of a free group}\label{Subgroups of free group} 

\begin{pr}
Show that every finitely generated subgroup of a free group 
is an intersection of subgroups of finite index.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Short generators\easy}\label{Lengths of generators of the fundamental group}

\begin{pr}
Let $M$ be a compact Riemannian manifold and $p\in M$.
Show that the fundamental group $\pi_1(M,p)$
is generated by the homotopy classes of the loops with length at most $2\cdot\diam M$.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Number of generators}\label{Number of generators}

\begin{pr}
Let $M$ be a complete connected Riemannian manifold with non-negative sectional curvature.
Show that the minimal number of generators of the fundamental group $\pi_1 M$
can be bounded above in terms of the dimension of $M$.
\end{pr}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Equation in a Lie group\easy}\label{Equations in the group}

\begin{pr}
Assume $G$ is a compact connected Lie group and $n$ is a positive integer.
Show that given a collection of elements $g_1,\dots,g_n\in G$
the equation 
\[x\cdot g_1\cdot x\cdot g_2\cdots x\cdot g_n=1\]
has a solution $x\in G$.
\end{pr}

\subsection*{Quotient of Hilbert space\hard}\label{Quotient of Hilbert space}

\begin{pr}
Construct a free action by affine isometries on the Hilbert space whose quotient space is isometric to the sphere $\mathbb{S}^3$.
\end{pr}

\section*{Semisolutions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Finite action.}
Without loss of generality, we may assume that the action is generated by a nontrivial homeomorphism 
\[a\:\mathbb{S}^m\to\mathbb{S}^m\] 
with prime order $p$.

Assume the contrary; that is, any $a$-orbit lies in an open hemisphere.
Then 
\[h(x)=\sum_{n=1}^p a^n\cdot x\ne0\]
for any $x\in\mathbb{S}^m$; here we consider $\mathbb{S}^m$ as the unit sphere in $\mathbb{R}^{m+1}$.

Consider the map $f\:\mathbb{S}^m\to\mathbb{S}^m$ 
defined as  $f(x)=\tfrac{h(x)}{|h(x)|}$.
Note that 
\begin{itemize}
\item if $a(x)=x$, then $f(x)=x$;
\item\label{f(x)=f(a(x))} $f(x)=f\circ a(x)$ for any $x\in\mathbb{S}^m$.
\end{itemize}

Note further that $f$ is homotopic to the identity; 
in particular 
\[\deg f=1.
\leqno({*})\]
The homotopy can be constructed as $(x,t)\mapsto \gamma_x(t)$,
where $\gamma_x$ is the minimizing geodesic path in $\mathbb{S}^m$ from $x$ to $f(x)$.
By construction, $|x-f(x)|_{\mathbb{S}^m}<\tfrac\pi2$; 
therefore $\gamma_x$ is uniquely defined.



Fix $x\in \mathbb{S}^m$ such that $a(x)\ne x$.
Note that the group acts without fixed points 
on the inverse image $W=f^{-1}(V)$ 
of a small open neighborhood $V\ni x$.
Therefore the quotient map $\theta\:W\to W'=W/\ZZ_p$ is a $p$-fold covering.
From  (\ref{f(x)=f(a(x))}),
the restriction $f|_W$ factors thru $\theta$;
that is,
there is $f'\:W'\to V$ such that
$f|_W=f'\circ\theta$.

Assume $p\ne 2$.
Note that $f'$ and $\theta$ have well defined degrees and 
\[\deg f\equiv\deg \theta\cdot\deg f'\pmod p\]
Since $\theta$ is a $p$-fold covering, we have $\deg \theta\equiv0\pmod p$.
Therefore
\[\deg f\equiv 0\pmod p.\leqno({*}{*})\]

Finally observe that $({*})$ contradicts $({*}{*})$.

In the case $p=2$ the same proof works, 
but the degrees have to be considered modulo $2$.\qeds

Along the same lines one can get a lower bound for the maximal diameter of the orbits for any nontrivial action of a finite group on a Riemannian manifold.

Applying the problem to the conjugate actions, 
one gets that if a fixed point set of a finite group acting on a sphere
has nonempty interior, 
then the action is trivial.
The same holds for any connected manifold.
All this was proved by Max Newman \cite[see][]{newman}.

The following problem from \cite{montgomery} can be solved using Newman's theorem. 
\begin{pr}
Assume $h$ is a homeomorphism of a connected manifold $M$ 
such that each $h$-orbit is finite.
Show that $h$ has finite order.
\end{pr}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Covers of the figure eight.}
First note that any compact length-metric space $K$ can be approximated by finite metric graphs.

Indeed, fix a finite $\eps$-net $F$ in $K$.
For each pair $x,y\in F$ choose a chain of points $x=x_0,x_1\dots x_n=y$ such that
$|x_i-x_{i-1}|_K<\eps$ for each $i$ and 
\[|x-y|_K=|x_0-x_1|_K+\dots+|x_{n-1}-x_n|_K.\]
Denote by $F'$ the union of all these chains with $F$;
Consider the metric graph with $F'$ as the set of vertexes
where every pair of vertexes $v$ and $w$ such that $|v-w|_K<\eps$ is connected by an edge of length $|v-w|_K$.
Note that the obtained metric graph is $\eps$ close to $K$ in the sense of Gromov--Hausdorff.

{

\begin{wrapfigure}{r}{47 mm}
\begin{lpic}[t(-8 mm),b(-3 mm),r(0 mm),l(0 mm)]{pics/cubic-graph(1)}
\lbl{23,10;{\large$\approx$}}
\end{lpic}
\end{wrapfigure}

Further, any finite metric graph is a limit of cubic\footnote{A graph is cubic if the degree of each vertex is 3.} metric graphs $\Gamma_n$ such that the length of each edge is a multiple of $\tfrac 1n$.
A construction can be guessed from the diagram.

}

\begin{wrapfigure}{l}{27 mm}
\begin{lpic}[t(-0 mm),b(-3 mm),r(0 mm),l(0 mm)]{pics/fig8(1)}
\end{lpic}
\end{wrapfigure}

It remains to approximate $\Gamma_n$ by finite coverings of $(\Phi,d/n)$.
Guess this part from the picture; 
it shows the needed covering of the figure eight for the doted cubic graph.\qeds


The same idea works if instead of the figure eight, we have any compact length-metric space $X$ that admits a map $X\to\Phi$ inducing an onto-homomorphism of fundamental groups.
Such spaces $X$ can be found among compact hyperbolic manifolds of any dimension $\ge 2$.
All this is due to Vedrin Sahovic \cite[see][]{sahovic}.

A similar idea was used later to show that any finitely presented group can appear as a fundamental group of the underlying space of a 3-dimensional hyperbolic orbifold \cite[see][]{panov-petrunin-telescopic}.





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Diameter of \textit{m}-fold cover.}
Fix points $\tilde p,\tilde q\in\tilde M$.
Let  
$\tilde\gamma\:[0,1]\to \tilde M$ be a minimizing geodesic path from $\tilde p$ to $\tilde q$. 

We need to show that 
\[\length \tilde\gamma\le m\cdot \diam M.\]
Suppose the contrary.

Denote by $p,q$ and $\gamma$ the projections to $M$ of $\tilde p,\tilde q$ and $\tilde \gamma$ correspondingly. 
Represent $\gamma$
as the concatenation of $m$ paths of equal length,
\[\gamma=\gamma_1{*}\dots{*}\gamma_m,\] 
so
\[\length\gamma_i=\tfrac{1}m\cdot\length\gamma>\diam M.\] 

Let $\sigma_i$ be a minimizing geodesic in $M$ connecting the endpoints of $\gamma_i$. 
Note that 
\[\length\sigma_i\le \diam M< \length\gamma_i.\] 

Consider $m+1$ paths $\alpha_0,\dots,\alpha_m$ defined as the concatenations 
\[\alpha_i=\sigma_1{*}\dots{*}\sigma_i{*}\gamma_{i+1}{*}\dots{*}\gamma_m.\]

Let $\tilde\alpha_0,\dots,\tilde\alpha_m$ be their liftings
with $\tilde q$ as their endpoint.

The staring points of $\tilde\alpha_i$ lie in the $m$ inverse images of $p$. 
Therefore two curves, $\alpha_i$ and $\alpha_j$ for $i<j$, 
have the same starting point in $\tilde M$.

Note that the concatenation
\[\beta=\gamma_1{*}\dots{*}\gamma_i{*}\sigma_{i+1}{*}\dots{*}\sigma_j{*}\gamma_{j+1}{*}\dots{*}\gamma_m.\]
admits a lift $\tilde\beta$ that connects $\tilde p$ to $\tilde q$ in $\tilde M$.
Clearly $\length \tilde\beta<\length \gamma$, a contradiction.
\qeds

The question was asked by Alexander  Nabutovsky
and answered by Sergei Ivanov \cite[see][]{ivanov}.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Symmetric square.}
Let $\Gamma=\pi_1 X$ and $\Delta=\pi_1((X\times X)/\ZZ_2)$.
Consider the homomorphism $\phi\:\Gamma\times \Gamma\to \Delta$
induced by the quotient map $X\times X\to (X\times X)/\ZZ_2$.

Note that $\phi(\alpha,1)=\phi(1,\alpha)$ for any $\alpha\in \Gamma$ and the restrictions $\phi|_{\Gamma\times \{1\}}$ and $\phi|_{\{1\}\times\Gamma}$
are onto.

It remains to note that 
$$\phi(\alpha,1)\phi(1,\beta)=\phi(1,\beta)\phi(\alpha,1)$$
for any $\alpha$ and $\beta$ in $\Gamma$.
\qeds

 
The problem was suggested by Rostislav Matveyev.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{wrapfigure}[6]{r}{23 mm}
\begin{lpic}[t(-4 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/serpinski-triangle-xyz(1)}
\lbl[br]{5.5,11;$x$}
\lbl[t]{11,-0.2;$y$}
\lbl[bl]{17.5,11;$z$}
\end{lpic}
\end{wrapfigure}

\parbf{Sierpi\'nski gasket.}
Denote the Sierpi\'nski gasket by $\triangle$.

Let us show that any homeomorphism of $\triangle$ is also an isometry.
Therefore its homeomorphism group is the symmetric group $S_3$. 

Let $\{x,y,z\}$ be a 3-point set in $\triangle$ such that $\triangle \backslash\{x,y,z\}$ has 3 connected components.
Note that there is unique choice for the set $\{x,y,z\}$ and 
it is formed by the midpoints of the long sides.

It follows that any homeomorphism of $\triangle$ permutes the set $\{x,y,z\}$.

Applying a similar argument recursively to the smaller triangles,
we get that this permutation  uniquely describes the homeomorphism.
\qeds

The problem was suggested by Bruce Kleiner.
Note that the homeomorphism group of the Sierpi\'nski carpet is much more interesting.



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Latices in a Lie group.}
Denote by $V_\ell$ and $W_m$
the Voronoi domains for each $\ell\in L$ and $m\in M$ correspondingly;
that is,
\[V_\ell=\set{g\in G}{|g-\ell|_G\le|g-\ell'|_G\ \text{for any}\ \ell'\in L}\]
\[W_m=\set{g\in G}{|g-m|_G\le|g-m'|_G\ \text{for any}\ m'\in M}\]

Note that for any $\ell\in L$ and $m \in M$ we have
\[\begin{aligned}
\vol V_\ell&=\vol(L\backslash (G,h))=
\\
&=\vol(M\backslash (G,h))=
\\
&=\vol W_m.
\end{aligned}
\leqno({*})
\]

Consider the bipartite graph $\Gamma$ with the parts $L$ and $M$
such that $\ell\in L$ is adjacent  to $m \in M$ if and only if $V_\ell\cap W_m\ne\emptyset$.

By $({*})$ the graph $\Gamma$ satisfies the condition of the marriage theorem  ---
any subset in $L$ has at least that many neighbors in $M$ and the other way around \cite[see][]{hall}.
Therefore there is a bijection $f\: L\to M$ such that 
\[V_\ell\cap W_{f(\ell)}\ne\emptyset\] for any $\ell\in L$. 

It remains to observe that $f$ is bi-Lipschitz.
\qeds

The problem is due to 
Dmitri Burago 
and Bruce Kleiner \cite[see][]{burago-kleiner}. 
For a finitely generated group $G$  
it is not known if $G$ and $G\times \ZZ_2$ can fail to be bi-Lipschitz.
(The groups are assumed to be equipped with the word metric.)
 



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{wrapfigure}{O}{41 mm}
\begin{lpic}[t(-0 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/loop(1)}
\lbl[t]{10,-1;$x_0$}
\lbl[lb]{35,35;$\ell$}
\lbl{18,33,-16;{\textit{the disk}}}
\end{lpic}
\end{wrapfigure}

\parbf{Piecewise Euclidean quotient.}
Note that the group $\Gamma$ is the holonomy group of the quotient space $P=\RR^m/\Gamma$.
More precisely, one can identify $\RR^m$ with the tangent space of a regular point $x_0$ of $P$ in such a way that
for any $\gamma\in\Gamma$ there is a loop $\ell$ based at $x_0$ that runs in the regular locus of $P$ and has the holonomy~$\gamma$.

Fix $\gamma$ and $\ell$ as above.
Since $P$ is simply connected, we can shrink $\ell$ by a disk.
By general position argument we can assume that the disk 
only pass thru simplices of codimension $0$, $1$ and $2$
and intersects the simplices of codimension $2$ transversely.

In other words, $\ell$ can be presented as a product of 
loops such that each loop goes around a single simplex of codimension $2$ and comes back.
The holonomy for each of these loops is a rotation around a hyperplane.
Hence the result follows.
\qeds

The converse of the problem also holds;
it was proved by Christian Lange \cite[see][]{lange};
his proof is based on earlier results of 
Marina Mikhailova \cite[see][]{mikhailova}.

Note that the cone over the spherical suspension over the Poincar\'e sphere is homeomorphic to $\RR^5$ and it is the quotient of $\RR^5$ by the binary icosahedral group, which is a subgroup of $\SO(5)$ of order 120. 
Therefore, 
if one exchanges ``piecewise linear homeomorphism'' for ``homeomorphism'' in the formulation, 
then the answer is different; 
a complete classification of such actions is given in \cite{lange}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Subgroups of a free group.}
The proof exploits the fact that free groups are the fundamental groups of graphs.

\begin{wrapfigure}{r}{18 mm}
\begin{lpic}[t(-4 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/ball-in-group(1)}
\lbl[t]{8.5,7;$\tilde p$}
\lbl[t]{8.5,-2;{\small $\bar B(\tilde p,2+\tfrac12)$}}
\end{lpic}
\end{wrapfigure}

\medskip

Let $F$ be a free group and $G$ be a finitely generated subgroup in $F$.
We need to show that $G$ is an intersection of subgroups of finite index in $F$.
Without loss of generality we can assume that $F$ has a finite number of generators, denote it by $m$.

Let $W$ be the wedge sum of $m$ circles, 
so  $\pi_1(W,p)\z=F$.
Equip $W$ with the length-metric 
such that each circle has unit length.

Pass to the metric cover $\tilde W$ of $W$ 
such that  $\pi_1(\tilde W,\tilde p)=G$ 
for a lift $\tilde p$ of $p$.

Fix a sufficiently large integer $n$ and consider the doubling of the closed ball $\bar B(\tilde p,n+\frac12)$ along  its boundary.
Let us denote the obtained doubling by $Z_n$ and set $G_n=\pi_1(Z_n,\tilde p)$.

Note that $Z_n$ is a metric covering of $W$;
it makes possible to consider $G_n$ as a subgroup of $F$.
By construction, $Z_n$ is compact;
therefore $G_n$ has finite index in $F$.


It remains to show that 
\[G=\bigcap_{n>k} G_n,\]
where $k$ is the maximal word length in the generating set of $G$.
\qeds

Originally the problem was solved by Marshall Hall \cite[see][]{hall}.
The proof presented here is close to the solution of John Stalings [see \ncite{stallings} and also \ncite{wilton}].

The same idea can be used to solve many other problems; here are some examples.

\begin{pr}
 Show that subgroups of free groups are free.
\end{pr}

\begin{pr}
 Show that two elements $u$ and $v$ of a free group commute 
if and only if they are both powers of
the some element $w$.
\end{pr}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Short generators.}
Choose a length minimizing loop $\gamma$ that represents a given element $a\in\pi_1M$.

\begin{wrapfigure}{r}{24 mm}
\begin{lpic}[t(-4 mm),b(-0 mm),r(0 mm),l(0 mm)]{pics/loop-arcs(1)}
\lbl[r]{-.5,9;$p$}
\lbl[tr]{7,3;$p_1$}
\lbl[t]{15,-.3;$\dots$}
\lbl[b]{17,15;$p_i$}
\lbl[w]{11.3,10.4,15;$\,\sigma_i$}
\lbl[w]{20.1,11.1,-49;$\,\gamma_i$}
\end{lpic}
\end{wrapfigure}

Fix $\eps>0$.
Represent $\gamma$ 
as a concatenation
\[\gamma=\gamma_1{*}\dots{*}\gamma_n\]
of paths and
\[\length\gamma_i<\eps\] 
for each $i$.
 
Denote by $p=p_0,p_1,\dots, p_n=p$ the endpoints of these arcs.
Connect $p$ to $p_i$ by a minimizing geodesic $\sigma_i$.
Note that $\gamma$ is homotopic to a product of loops
\[\alpha_i=\sigma_{i-1}{*}\gamma_i{*}\bar\sigma_{i},\]
where $\bar\sigma_{i}$ denotes the path $\sigma_{i}$ traveled backwards.
In particular,
\[\length \alpha_i<2\cdot\diam M+\eps \]
for each $i$.

Note that given $\ell>0$, there are only finitely many elements of the fundamental group that can be realized by loops at $p$ with length shorter than $\ell$.
It follows that for the right choice of $\eps>0$, 
any loop $\alpha_i$ is homotopic to a loop of length at most $2\cdot\diam M$.
Hence the result follows.
\qeds

The statement is due to 
Mikhael Gromov \cite[see Proposition 3.22 in][]{gromov-MetStr}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Number of generators.}
Consider the universal Riemannian cover $\tilde M$ of $M$.
Note that $\tilde M$ is non-negatively curved and
$\pi_1M$ acts by isometries on $\tilde M$.

Fix $p\in \tilde M$.
Given  $a\in \pi_1M$,
set 
\[|a|=|p- a\cdot p|_{\tilde M}.\]

Consider the so called \index{short basis}\emph{short basis} in $\pi_1M$;
that is, a sequence of elements $a_1,a_2,\dots{} \in\pi_1M$ defined the following way:
\begin{enumerate}[(i)]
\item Choose $a_1\in\pi_1M$ so that $|a_1|$ takes the minimal value.
\item Choose $a_2\in\pi_1M\backslash\langle a_1 \rangle$ so that $|a_2|$ takes the minimal value.
\item Choose $a_3\in\pi_1M\backslash\langle a_1,a_2 \rangle$ so that $|a_3|$ takes the minimal value.
\item and so on.
\end{enumerate}

Note that the sequence terminates at the $n$-th step 
if 
$a_1,\dots,a_n$  generate $\pi_1M$.
By construction, we have
\begin{align*}
|a_j\cdot a_i^{-1}|&\ge |a_j|\ge |a_i|
\intertext{for any $j>i$. 
Set $p_i=a_i\cdot p$.
Note that}
|p_j-p_i|_{\tilde M}
&=|a_j\cdot a_i^{-1}|\ge
\\
&\ge |a_j|=
\\
&=|p_j-p|_{\tilde M}\ge
\\
&\ge|a_i|=
\\
&=|p_i-p|_{\tilde M}.
\intertext{By the Toponogov comparison theorem we get}
\measuredangle \hinge p{p_i}{p_j}&\ge \tfrac\pi3.
\end{align*}
That is, the directions from $p$ to all $p_i$ make an angle of at least $\tfrac\pi3$ with each other.

Therefore the number of points $p_i$ can be bounded in terms of the dimension of $M$.
Hence the result follows.
\qeds

The \emph{short basis construction}, as well as the result above are due to Mikhael Gromov \cite[see][]{gromov-almost-flat}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Equation in a Lie group.} 
We will assume that $G$ is equipped with a bi-invariant metric.
In particular geodesics starting from $1\in G$ are given by homomorphisms $\RR\to G$.

Consider the map $\phi\:G\to G$ defined by
\[\phi(x)=x\cdot g_1\cdot x\cdot g_2\cdots x\cdot g_n.\]
We need to show that $\phi$ is onto.
Note that it is sufficient to show that $\phi$ has non zero degree.

The map $\phi$ is homotopic to the map $\psi\:x\mapsto x^n$.
Therefore it is sufficient to show that
\[\deg \psi\ne 0\leqno({*})\]

Note that the claim $({*})$ follows from $({*}{*})$.
\begin{cl}{$({*}{*})$} For any $x\in G$ the differential 
 \[d_x\psi\:\T_xG\to \T_{x^n}G\] 
does not revert orientation.
\end{cl}


Indeed, connect $1$ to a given point $y\in G$ by a geodesic path $\gamma$, so $\gamma(0)=1$ and $\gamma(1)=y$.
Since $\gamma\:\RR\to G$ is a homomorphism,
$\psi(x)=y$ for $x=\gamma(\tfrac1n)$.
In particular the inverse image $\psi^{-1}\{y\}$ is nonempty for any $y\in G$.

By $({*}{*})$, for a regular value $y$, each point in the  inverse image $\psi^{-1}\{y\}$ conributes 1 to the degree of $\psi$. 
Hence $({*})$ follows.

It remains to prove $({*}{*})$.
Given an element $g\in G$, denote by $L_g,R_g\:G\to G$ its left and right shifts;
that is, $L_g(x)=g\cdot x$ and $R_g(x)=x\cdot g$.

Identify the tangent spaces $\T_xG$ and $\T_{x^n}G$ with the Lie algebra $\mathfrak{g}=\T_eG$
using $d{R_x}\:\mathfrak{g}\to \T_xG$ and $d{R_x^n}\:\mathfrak{g}\to \T_{x^n}G$ correspondingly.
Then for any $V\in \mathfrak{g}$, we have
\[d_x\psi(V)=V+\Ad_x(V)+\dots+\Ad_x^{n-1}(V),\]
where $\Ad_x=d_e(L_x\circ R_{x^{-1}})\:\mathfrak{g}\to \mathfrak{g}$. 
Since the metric on $G$ is bi-invariant, we have that $\Ad_x$ is an isometry of $\mathfrak{g}$.
It remains to note that the linear transformation
\[V\mapsto V+T(V)+\dots+T^{n-1}(V)\]
can not revert orientation for any isometric linear transformation $T$ of the Euclidean space.
The last statement is an exercise in linear algebra.
\qeds

The idea of this solution is due to Murray Gerstenhaber and Oscar Rothaus 
\cite[see][]{gerstenhaber-rothaus}.
In fact, the degree of $g$ is $n^k$, where $k$ is the rank of~$G$ \cite[see][]{hopf}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Quotient of Hilbert space.}
We consider $\SSS^3$ as the set of unit quaternions, in particular it has a group structure.

Let $\HH$ be the set of paths in $\SSS^3$ starting at $1$ and of \emph{class $W^{1,2}$};
that is, its velocity is square-integrable.
The point-wise multiplication of paths defines a group structure on $\HH$.
Denote by $\Omega$ the subset of all loops in $\HH$.

It remains to equip $\HH$ with the structure of a Hilbert space so that 
the right action of $\Omega$ on $\HH$ is isometric and the quotient is isometric to~$\SSS^3$.

\medskip

We will prove the statement for any connected Lie group $G$ with a bi-invariant metric, in particular for $G=\SSS^3$.
Denote by $\mathfrak{g}=\T_1G$ the Lie algebra of $G$.
Equip $G$ with a bi-invariant metric and let $\langle{*},{*}\rangle_{\mathfrak{g}}$ be the corresponding scalar product in $\mathfrak{g}$.

Consider the Hilbert space $\HH$ of all $L^2$-functions $f\:[0,1]\to\mathfrak{g}$ with the scalar product defined by
\[\<f,g\>=\int\limits_{[0,1]}\<f(t),g(t)\>_{\mathfrak{g}}\cdot dt.\]


\parit{Construction of the quotient map $\phi\:\HH\to G$.}
Given $v\in \mathfrak{g}$ denote by $\tilde v$ the corresponding right invariant tangent field on $G$.

Given $f\:[0,1]\to \mathfrak{g}$ in $\HH$,
consider the path 
\[\Gamma_f\:[0,1]\to G\] 
with 
$\Gamma_f(0)=1$ and $\Gamma_f'(t)=\tilde f(t)$ for any $t$.

The map $\phi\:\HH\to G$ is the evaluation map $\phi\:f\mapsto \Gamma_f(1)$.
Since $G$ is connected, $\phi$ is onto.

\parit{Group structure on $\HH$.}
Note that the functional $f\mapsto \Gamma_f$ is an injective map from $\HH$ to the space of paths in $G$ starting at $1$.

Recall that $\Ad_\alpha\:\mathfrak{g}\to \mathfrak{g}$ denotes the adjoint transformation for $\alpha\in G$;
that is, $\Ad_\alpha=d_1\Inn_\alpha$, where $\Inn_\alpha\:x\mapsto \alpha\cdot x\cdot \alpha^{-1}$ is the inner automorphism of $G$.
Note that $\Ad_\alpha$ preserves the scalar product on $\mathfrak{g}$.

Consider the multiplication $\star$ on $\HH$ by
\[(h\star f)(t)=h(t)+\Ad_{\Gamma_h(t)}[f(t)].\leqno({*})\]

Note that 
\[\Gamma_{h\star  f}(t)=\Gamma_h(t)\cdot \Gamma_f(t)\]
for any $t\in[0,1]$.
In particular, $(\HH,\star )$ is a group with neutral element $0$. 

From $({*})$, we get
\[(h\star f)(t)-(h\star g)(t)=\Ad_{\Gamma_h(t)}(f(t)-g(t))\]
and therefore
\[|(f\star h)(t)-(g\star h)(t)|=|f(t)-g(t)|\]
for any $t$.
It follows that for any fixed $h$,
the transformation $f\mapsto h\star f$ is an affine isometry of $\HH$.


The set $\Omega=\phi^{-1}\{1\}$ is a subgroup of $(\HH,\star)$;
it can be viewed as the group of $W^{1,2}$-loops in $G$.
It remains to note that $\phi\:\HH\to G$ is the quotient map for the right action of $\Omega$ on $\HH$.
\qeds

\parit{Aleternative solution.} Again, we will prove the statement for any connected Lie group $G$ with a bi-invariant metric.

Denote by $G^n$ the direct product of $n$ copies of $G$.
Consider the map $\phi_n\:G^n\to G$ defined by
\[\phi_n\:(\alpha_1,\dots,\alpha_n)\mapsto \alpha_1\cdots\alpha_n.\]
Note that $\phi_n$ is the quotient map for the $G^{n-1}$-action on $G^n$ defined by
\[(\beta_1,\dots,\beta_{n-1})\cdot(\alpha_1,\dots,\alpha_n)=(\alpha_1\cdot\beta_1^{-1},\beta_1\cdot\alpha_2\cdot\beta_2^{-1},\dots,\beta_{n-1}\cdot\alpha_n).\]

Denote by $\rho_n$ the product metric on $G^n$ rescaled with factor $\sqrt{n}$.
Note that the quotient $(G^n,\rho_n)/G^{n-1}$ is isometric to $G=(G,\rho_1)$.

As $n\to\infty$ the curvature of $(G^n,\rho_n)$ converges to zero and its injectivity radius goes to infinity.
Therefore passing to the ultra-limit of $G^n$ as $n\to\infty$ we get the Hilbert space.
It remains to observe that the limit action has the required property.
\qeds

This construction is given by Chuu-Lian Terng and Gudlaugur Thorbergsson \cite[see section 4 in][]{terng-thorbergsson};
the alternative solution was suggested by Alexander Lytchak.

Instead of the group $\Omega$, 
one could consider the subgroup $\Omega_H$ of paths $\gamma\:[0,1]\to G$ such that the pairs $(\gamma(0),\gamma(1))$ belong to a given subgroup $H<G\times G$.
In this case the quotient $\HH/\Omega_H$ is isometric to the \emph{double quotient} $G/\!\!/H$;
that is, the quotient of the action on $G$ defined by $(h_1,h_2)\cdot g=h_1\cdot g\cdot h_2^{-1}$ for $(h_1,h_2)\in H<G\times G$.
