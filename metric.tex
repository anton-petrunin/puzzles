\csname @openrightfalse\endcsname
\chapter{Metric geometry}

In this chapter, we consider metric spaces.
All the necessary material could be found in the first three chapters of the textbook \cite{bbi}. 

Let us fix few standard notations.
\begin{itemize}
\item The distance between two points $x$ and $y$ in a metric space $X$
will be denoted as 
\[\dist_x(y),
\quad
|x-y|
\quad\text{or}\quad
|x-y|_X,
\]
the latter notation is used to emphasize that $x$ and $y$ are points in the space $X$.
\item A metric space $X$ is called {}\emph{length-metric space} if for any $\eps>0$ and any two points $x,y\in X$ can be connected by a curve $\alpha$
such that
\[\length\alpha<|x-y|_X+\eps.\]
In this case the metric on $X$ is called a \index{length-metric}\emph{length-metric}.
\end{itemize}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Embedding of a compact}
\label{compact} 

\begin{pr}
Prove that any compact metric space 
is isometric to 
a subset of a compact length-metric spaces.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parit{Semisolution.}
Let $K$ be a compact metric space.
Denote by $\mathcal{B}(K,\RR)$ the space of real-valued bounded functions on $K$
equipped with sup-norm; 
that is, 
\[|f|=\sup\set{|f(x)|}{x\in K}.\]

Note that the map $K\to \mathcal{B}(K,\RR)$, defied by $x\mapsto \dist_x$
is a distance preserving embedding.
Indeed, by triangle inequality we have
\[|\dist_x(z)-\dist_y(z)|\le |x-y|_K\]
for any $z\in K$
and the equality holds for $z=x$.

In other words, we can and will consider $K$ as a subspace of $\mathcal{B}(K,\RR)$.

Denote by $W$ the linear convex hull of $K$ in $\mathcal{B}(K,\RR)$;
that is, $W$ is the intersection of all closed convex subsets containing $K$. 
Clearly $W$ is a complete subspace of $\mathcal{B}(K,\RR)$.

Since $K$ is compact we can choose a finite $\eps$-net $K_\eps$ in $K$.
Evidently the convex hull $W_\eps$ of $K_\eps$ is compact and $W$ lies in the $\eps$-neighborhood of $W_\eps$.
Therefore, $W$ admits a compact $\eps$-net for any $\eps>0$.
That is, $W$ is totally bounded and complete and therefore compact.

Note that a line segments in $W$ are geodesics for the metric induced by sup-norm. 
In particular $W$ is a compact length-metric space as required.
\qeds

The map $x\mapsto \dist_x$ is called \index{Kuratowski embedding}\emph{Kuratowski embedding},
it was constructed in \cite{kuratowski},
essentially the same map 
was described by Maurice Fr\'echet 
in the same paper he introduced metric spaces \cite[see][]{frechet}.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Non-contracting map\easy}
\label{Noncontracting map}

A map $f\: X\to Y$ between metric spaces is called \index{non-contracting map}\emph{distance non-contracting} if
\[|f(x)-f(x')|_Y\ge |x-x'|_X\]
for any two points $x,x'\in X$.

\begin{pr}
Let $K$  be a compact metric space and
\[f\:K\z\to K\] 
be a distance non-contracting map.
Prove that $f$ is an isometry.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Finite-whole extension}
\label{Finite-whole extension}

A map $f\: X\to Y$ between metric spaces is called \index{non-expanding map}\emph{non-expanding} if
\[|f(x)-f(x')|_Y\le |x-x'|_X\]
for any two points $x,x'\in X$.

\begin{pr}
Let $X$ and $Y$ be metric spaces, 
$Y$ is compact,
$A\subset X$ and $f\:A\to Y$ be a non-expanding map.
Assume that for any finite set $F\subset X$ there is a non-expanding map $F \to Y$
which agrees with $f$ in $F\cap A$.
Show that there is a non-expanding map $X\to  Y$ which agrees with $f$ on $A$.
\end{pr}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Horo-compactification\easy}
\label{Horocompactification}

Let $X$ be a metric space.
Denote by $C(X,\RR)$ the space of continuous functions $X\to \RR$
equipped with the \emph{compact-open topology};
that is, for any compact set $K\subset X$ and open set $U\subset \RR$
the set of all continuous functions $f\: X\to \RR$ such that $f(K)\subset U$
is declared to be open.

Fix a point $x_0\in X$.
Given a point $z\in X$, let $f_z\in C(X,\RR)$ be the function defined as 
\[f_z(x)=\dist_z(x)-\dist_z(x_0).\]
Let $F_X\:X\to C(X,\RR)$ be the map 
defined as $F_X\:z\mapsto f_z$.

Denote by $\bar X$ 
the closure of $F_X(X)$ in $C(X,\RR)$;
note that $\bar X$ is compact.
That is, 
if $F_X$ is an embedding, 
then $\bar X$ is a compactification of $X$,
which is called \index{horo-compactification}\emph{horo-compactification}.
In this case, the complement 
$\partial_\infty X=\bar X\backslash F_X(X)$ 
is called {}\emph{horo-absolute} of $X$.

The construction above is due to Mikhael Gromov \cite[see][]{gromov-hyperbolic}.

\begin{pr}
Construct a proper metric space $X$
such that 
\[F_X\:X\to C(X,\RR)\] 
is not an embedding.
Show that there are no such examples among proper length-metric spaces.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Approximation of the ball by a sphere}
\label{3-sphere is close to a ball}

\begin{pr}
Construct a sequence of Riemannian metrics on $\mathbb{S}^3$ 
which converges in the sense of Gromov--Hausdorff 
to the unit ball in $\RR^3$.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Macroscopic dimension\easy}
\label{macroscopic dimension} 

Let $X$ be a locally compact metric space,
$m$ is an integer
and $a>0$.

Following Mikhael Gromov \cite[see][]{gromov:macroscopic-dimension},
we say that the \index{macroscopic dimension}\emph{macroscopic dimension}  of $X$ at the scale $a$ is $m$
if $m$ is the least integer such that there is a continuous map $f$ from $X$ to an $m$-dimensional simplicial complex $K$
such that 
\[\diam[f^{-1}\{k\}]<a\]
for any $k\in K$.

Equivalently, the macroscopic dimension of $X$ on scale $a$ can be defined as 
the least integer $m$ such that $X$ admits an open covering with diameter of each set less than $a$ 
and such that each point in $X$ is covered by at most $m+1$ sets in the cover.

\begin{pr}
Let $M$ be a simply connected Riemannian manifold with the following property: 
any closed curve is null-homotopic 
in its own  1-neighborhood. 
Prove that the macroscopic dimension of $M$ on the scale $100$ is at most $1$.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{No Lipschitz embedding\hard}
\label{weird-metric} 

\begin{pr}
Construct a length-metric $d$ on $\RR^3$,
such that 
the subspace $(\RR^3,d)$ does not admit a locally Lipschitz embedding into the 3-dimensional Euclidean space.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Sub-Riemannian sphere\thm}
\label{sub-Riemannian} 

Let us define sub-Riemannian metric.

Fix a Riemannian manifold $(M,g)$.
Assume that in the tangent bundle $\T M$ 
a choice of sub-bundle $H$ is given.

Let us call the sub-bundle $H$  \index{horizontal distribution}\emph{horizontal distribution}.
The tangent vectors which lie in $H$ will be called {}\emph{horizontal}.
A piecewise smooth curve will be called {}\emph{horizontal}
if all its tangent vectors are horizontal.

The sub-Riemannian distance between points $x$ and $y$ is defined as infimum of lengths of horizontal curves connecting $x$ to $y$.

Alternatively, the distance can be defined as a limit of Riemannian distances 
for the metrics 
\[g_\lambda(X,Y)=g(X^H,Y^H)+\lambda\cdot g(X^V,Y^V)\] 
as $\lambda\to \infty$,
where $X^H$ denotes the horizontal part of $X$;
that is, the orthogonal projection of $X$ to $H$
and $X^V$ denotes the vertical part of $X$;
so, $X^V+X^H=X$.

In addition we need to add the a condition to ensure the following properties 
\begin{itemize}
\item The sub-Riemannian metric induce the original topology on the manifold. 
In particular, if $M$ is connected, then the distance cannot take infinite values.
\item Any curve in $M$ can be arbitrary well approximated by a horizontal curve with the same endpoints.
\end{itemize}
The most common condition of this type is the so called {}\emph{complete non-integrability};
it means that for any $x\in M$, 
one can choose a basis in its tangent space $\T_xM$
from the vectors of the following type
\[A(x),\quad  [A,B](x),\quad [A,[B,C]](x),\quad [A,[B,[C,D]]](x),\dots\] 
where $[{*},{*}]$ denotes the Lie bracket 
and the vector fields $A,B,C,D, \dots$ are horizontal.

\begin{pr}
Prove that any sub-Riemannian metric 
on the $\mathbb{S}^m$ is isometric to the intrinsic metric of a hypersurface in $\RR^{m+1}$.
\end{pr}


It will be hard to solve the problem without knowing proof of Nash--Kuiper theorem on length preserving $C^1$-embeddings.
The original papers of John Nash 
and Nicolaas Kuiper \cite[see][]{nash,kuiper} are very readable.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Length-preserving map\thm}
\label{two2one} 

A continuous map $f\:X\to Y$ between metric spaces is called \index{length-preserving}\emph{length-preserving} if it preserves the length of curves; 
that is, for any curve $\alpha$ in $X$ we have
\[\length(f\circ\alpha)=\length\alpha.\]

\begin{pr}
Show that there is no length-preserving map $\RR^2\to \RR$.
\end{pr}


The expected solution use Rademacher's theorem on differentiability of Lipschitz functions \cite[see][]{rademacher}. 



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Fixed segment}
\label{Fixed segment}

\begin{pr}
Let $\rho(x,y)=\|x-y\|$ be a metric on $\RR^m$ induced by a norm $\|{*}\|$.

Assume that $f\:(\RR^m,\rho)\to(\RR^m,\rho)$ is an isometry which fixes two distinct points $a$ and $b$.
Show that $f$ fixes the line segment between $a$ and $b$.
\end{pr}

Evidently $f$ maps the line segment $[ab]$ to a minimizing geodesic connecting $a$ to $b$ in $(\RR^m,\rho)$.
However, in general there might be many minimizing geodesics connecting $a$ to $b$ in $(\RR^m,\rho)$.
The problem states that $[ab]$ is mapped to itself.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Pogorelov's construction\easy}
\label{Pogorelov's construction}

\begin{pr}
Let $\mu$ be a regular centrally symmetric finite measure on $\mathbb{S}^2$ which is positive on every open set.
Given two points $x,y\in \mathbb{S}^2$,
set 
\[\rho(x,y)=\mu[B(x,\tfrac \pi2)\backslash B(y,\tfrac\pi2)].\]

Show that $\rho$ is a length-metric on $\mathbb{S}^2$
and moreover, thegeodesics in $(\mathbb{S}^2,\rho)$ run along the great circles of $\mathbb{S}^2$.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Straight geodesics}
\label{Straight geodesics}

\begin{pr}
Let $\rho$ be a length-metric on $\RR^m$, 
which is bi-Lipschitz equivalent to the canonical metric.
Assume that every geodesic $\gamma$ in $(\RR^d,\rho)$ is \emph{affine};
that is, $\gamma(t)=v+w\cdot t$ for some $v,w\in\RR^m$.

Show that $\rho$ is induced by a norm on $\RR^m$.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Hyperbolic space}
\label{Hyperbolic space}

Recall that a map $f\:X\to Y$ between metric spaces is called bi-Lipschitz if there if a constant $\eps>0$
such that 
\[\eps\cdot|x-y|_X\le|f(x)-f(y)|_Y\le\tfrac1\eps\cdot|x-y|_X.\]
for any $x,y\in X$.


\begin{pr}
Construct a bi-Lipschitz map
from the hyperbolic $3$-space 
to the product of two hyperbolic planes.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Quasi-isometry of a Euclidean space\thm}
\label{hom-near-QI} 

A map $f\:X\to Y$ between metric spaces is called a \index{quasi-isometry}\emph{quasi-isometry} if there is a  real constant $C>1$ such that 
$$\tfrac{1}{C}\cdot|x-x'|_X-C
\le 
|f(x)-f(x')|_Y\le C\cdot|x-x'|_X+C$$
for any $x,x'\in X$ and $f(X)$ is a \index{net}\emph{$C$-net} in $Y$;
that is, for any $y\in Y$ there is $x\in X$ such that $|f(x)-y|_Y\le C$.


Note that a quasi-isometry is not assumed to be continuous, for example any map between compact metric spaces is a quasi-isometry.

\begin{pr}
Let $f\:\RR^m\to\RR^m$ be a quasi-isometry.
Show that there is a (bi-Lipschitz) homeomorphism 
$h\:\RR^m\to\RR^m$ on a bounded distance from $f$;
that is, 
$$|f(x)-h(x)|\le C$$
for any $x\in\RR^m$ and a real constant $C$.
\end{pr}

The expected solution requires the so called \emph{gluing theorem},
a corollary of the theorem proved by Laurence Siebenmann \cite[see][]{siebenmann}.
It states that 
if $V_1, V_2\subset\RR^m$ are open
and the two embedding $f_1\:V_1\to\RR^m$ and $f_2\:V_2\to\RR^m$ 
are sufficiently close to each other 
on the overlap $U=V_1\cap V_2$, 
then
there is an embedding $f$ defined on an open set $W'$
which is slightly smaller than $W=V_1\cup V_2$
and such that $f$ is sufficiently close to each $f_1$ and $f_2$ at the points where they are defined.

The  bi-Lipschitz version requires 
an analogous statement in the category of bi-Lipschitz embeddings;
it was proved by
Dennis Sullivan \cite[see][]{sullivan}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\subsection*{Family of sets with no section\easy}
\label{hausdorff-section} 

\begin{pr}
Construct a family of closed sets $C_t\subset\mathbb{S}^1$, $t\z\in [0,1]$
which is continuous in the Hausdorff topology, 
but does not admit a {}\emph{section}.
That is, there is no path $c\:[0,1]\to \mathbb{S}^1$ such that $c(t)\in C_t$ for any $t$.
\end{pr}

\subsection*{Spaces with isometric balls}

\begin{pr}
Construct a pair of locally compact length-metric spaces $X$ and $Y$ 
which are not isometric,
but for some fixed points $x_0\in X$,  $y_0\in Y$ and any radius $R$
the ball $B(x_0,R)_X$ is 
isometric to the ball $B(y_0,R)_Y$.
\end{pr}



\section*{Semisolutions}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Non-contracting map.}
Given any pair of point $x_0,y_0\in K$, 
consider two sequences $x_0,x_1,\dots$ and $y_0,y_1,\dots$
such that 
and $x_{n+1}=f(x_n)$ and $y_{n+1}=f(y_n)$ for each $n$.

Since $K$ is compact, 
we can choose an increasing sequence of integers $n_k$
such that both sequences $(x_{n_i})_{i=1}^\infty$ and $(y_{n_i})_{i=1}^\infty$
converge.
In particular, both of these sequences converge in itself;
that is,
\[
|x_{n_i}-x_{n_j}|_K, |y_{n_i}-y_{n_j}|_K\to 0
\ \ 
\text{as}
\ \ \min\{i,j\}\to\infty.
\]


Since $f$ is non-contracting, we get
\[
|x_0-x_{|n_i-n_j|}|
\le 
|x_{n_i}-x_{n_j}|.
\]

It follows that  
there is a sequence $m_i\to\infty$ such that
\[
x_{m_i}\to x_0\ \ \text{and}\ \ y_{m_i}\to y_0\ \ \text{as}\ \ i\to\infty.
\leqno({*})\]

Set \[\ell_n=|x_n-y_n|_K.\]
Since $f$ is non-contracting, the sequence $(\ell_n)$ is non-decreasing.

By $({*})$,  $\ell_{m_i}\to\ell_0$ as $m_i\to\infty$.
It follows that $(\ell_n)$ is a constant sequence.

In particular 
\[|x_0-y_0|_K=\ell_0=\ell_1=|f(x_0)-f(y_0)|_K\]
for any pair of points $(x_0,y_0)$ in $K$.
That is, $f$ is distance preserving, in particular injective.

From $({*})$, we also get that $f(K)$ is everywhere dense.
Since $K$ is compact $f\:K\to K$ is surjective. Hence the result follows.\qeds


This is a basic lemma in the introduction to Gromov--Hausdorff distance \cite[see 7.3.30 in][]{bbi}.
I learned this proof from Travis Morrison, 
a students in my MASS class at Penn State, Fall 2011.

As an easy corollary one can get that any surjective non-expanding map maps from compact metric space to itself is an isometry.
The following problem due to Aleksander Ca{\l}ka \cite[see][]{calka:loc-isom};
it is closely related but more involved. 

\begin{pr}
Show that any local isometry from a connected compact metric space to itself is a homeomorphism. 
\end{pr}





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Finite-whole extension.}
Given a finite set $F\subset X$,
denote by $\mathfrak{S}_F$ the set of all non-expanding maps $h\: F\to Y$ which agree with $f$ on $F\cap A$.
For $x\in F$, consider the set
\[K(F,x)=\set{h(x)\in Y}{h\in \mathfrak{S}_F}.\]

By assumption  
\[K(F,x)\ne\emptyset\leqno{({*})}\] 
for any finite set $F\subset X$ and $x\in F$.
Further, note that $K(F,x)$ is closed and
\[K(F',x)\supset K(F,x)\leqno{({*}{*})}\]
for any other finite set $F'$ such that 
$x\in F'\subset F$.

By Zorn's lemma, we can assume that $A$ is a maximal set;
that is, $f$ can not be extended to a bigger set in such a way that it satisfies the assumptions of the problem. 
(It follows that $A$ is closed subset of $X$, but we will not use it.)

Arguing by contradiction, assume $A\ne X$; fix $x\in X\backslash A$.
Given $y\in Y$ there is a finite set $F\ni x$ such that $y\notin K(F,x)$.
Or equivalently,
\[\bigcap_{F\ni x}K(F,x)=\emptyset.\]

By finite intersection property, 
we can choose a finite collection of finite sets $F_1,\dots F_n$ containing $x$ such that 
\[K(F_1,x)\cap \dots\cap K(F_n,x)=\emptyset.\leqno{(\asterism)}\]

Since the union $F=F_1\cup\dots\cup F_n$ is finite, $({*})$ and $({*}{*})$
imply
\[K(F_1,x)\cap \dots\cap K(F_n,x)\supset K(F,x)\ne \emptyset,\]
which contradicts $(\asterism)$.
\qeds

This observation was used by Stephan Stadler and me \cite[see][]{petrunin-stadler}.
Ð perspicacious reader undoubtedly sees that this statement is nothing but a straightforward corollary of Tychonoff's theorem on the product of compact spaces. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Horo-compactification.}
For the first part of the problem, take $X$ to be the set of non-negative integers with the metric $\rho$ defined as 
\[\rho(m,n)=m+n\] 
for $m\ne n$.

\medskip

The second part is proved by contradiction.
Assume $X$ is proper length space  and $F_X$ is not an embedding.
That is, there is a sequence of points $z_1,z_2,\dots$ 
and a point $z_\infty$,
such that $f_{z_n}\to f_{z_\infty}$ in $C(X,\RR)$
as $n\to \infty$, 
while $|z_n-z_\infty|_X>\eps$ 
for some fixed $\eps>0$ and all $n$.

Note that any pair of points $x,y\in X$ can be connected by a minimizing geodesic $[xy]$.
Choose $\bar z_n$ on a geodesic $[z_\infty z_n]$ such that $|z_\infty-\bar z_n|=\eps$.
Note that 
\begin{align*}
f_{z_n}(z_\infty)-f_{z_n}(\bar z_n)&=\eps
\intertext{and}
f_{z_\infty}(z_\infty)-f_{z_n}(\bar z_n)&=-\eps
\end{align*}
for any $n$.

Since $X$ is proper, we can pass to a subsequence of $z_n$ so that the sequence  $\bar z_n$ converges;
denote its limit by $\bar z_\infty$.
From the identities above, it follows that
\[f_{z_n}(\bar z_\infty)\not\to f_{z_\infty}(\bar z_\infty)
\quad
\text{or}
\quad 
f_{z_n}(z_\infty)\not\to f_{z_\infty}( z_\infty),\]
a contradiction.\qeds

I learned this problem from Linus Kramer and Alexander Lytchak;
the example was also mentioned in the lectures of Anders Karlsson
and attributed to Uri Bader \cite[see 2.3 in][]{karlsson}.





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Approximation of the ball by a sphere.}
Make fine burrows in the standard 3-ball which do not change its topology,
but at the same time come sufficiently close to any point in the ball.

Consider the doubling of obtained ball along  its boundary.
The obtained space is homeomorphic to $\mathbb{S}^3$.
Note that the burrows can be made 
so that the obtained space is sufficiently close to the original ball 
in the Gromov--Hausdorff metric.

It remains to smooth the obtained space slightly 
to get a genuine Riemannian metric with needed property.\qeds


This construction is a stripped version of the theorem of Steven Ferry and Boris Okunin \cite[see][]{ferry-okun}.
The theorem states that Riemannian metrics on a smooth closed manifold $M$ with $\dim M\ge 3$ 
can approximate the given compact length-metric space $X$ 
if and only if 
there is a continuous map $M\to X$
which is surjective on the fundamental groups. 

The two-dimensional case is quite different.
There is no sequence of Riemannian metrics on
$\mathbb{S}^2$ which converge to the unit disc in the sense of Gromov--Hausdorff.
In fact, 
if $X$ is a limit of $(\mathbb{S}^2,g_n)$,
then any point $x_0\in X$ either admits a neighborhood homeomorphic to $\RR^2$ or it is a cut point;
that is, $X\backslash\{x_0\}$ is disconnected \cite[see 3.32 in][]{gromov-MetStr}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Macroscopic dimension.}
The following claim resembles Besikovitch inequality;
it is a key to the proof.
\begin{cl}{$({*})$} Let $a$ be a positive real number.
 Assume that a closed curve $\gamma$ in a metric space $X$ can be sudivided into 4 arcs $\alpha$, $\beta$, $\alpha'$, and $\beta'$ in such a way that 
 \begin{itemize}
 \item $|x-x'|>a$ for any $x\in\alpha$ and $x'\in \alpha'$
 and
 \item $|y-y'|>a$ for any $y\in\beta$ and $y'\in \beta'$.
 \end{itemize}
 Then $\gamma$ is not contractable in its $\tfrac a2$-neighborhood.
\end{cl}


To prove $({*})$, consider two functions of $X$ defined as
\begin{align*}
w_1(x)&=\max\{\,a,\dist_{\alpha}(x)\,\}
\\
w_2(x)&=\max\{\,a,\dist_{\beta}(x)\,\}
\end{align*}
and the map $\bm{w}\:X\to [0,a]\times[0,a]$, defined as 
\[\bm{w}\:x\mapsto(w_1(x),w_2(x)).\]

Note that 
\begin{align*}
\bm{w}(\alpha)&=0\times [0,a],
&
\bm{w}(\beta)&=[0,a]\times 0,
\\
\bm{w}(\alpha')&=a\times [0,a],
&
\bm{w}(\beta')&=[0,a]\times a,
\end{align*} 
Therefore, the composition $\bm{w}\circ\gamma$ is a degree 1 map 
\[\mathbb{S}^1\to \partial([0,a]\times[0,a]).\] 
It follows that if $h\:\DD\to X$ shrinks $\gamma$ then there is a point $z\in\DD$ such that 
$\bm{w}\circ h(z)=(\tfrac a2,\tfrac a2)$.
Therefore $h(z)$ lies on the distance at least $\tfrac a2$ from $\alpha$, $\beta$, $\alpha'$, $\beta'$
and therefore from $\gamma$.
Hence the claim $({*})$ follows.

\medskip

Fix a point $p\in M$.
Let us cover $M$ by the connected components of the inverse images 
$\dist_p^{-1}((n-1,n+1))$ for all integers $n$.
Clearly any point in $M$ is covered by at most two such components.
It remains to show that each of these components has diameter less than $100$.

\begin{wrapfigure}{r}{40 mm}
\begin{lpic}[t(-0 mm),b(1 mm),r(0 mm),l(0 mm)]{pics/pxy-tau(1)}
\lbl[t]{2,0;$p$}
\lbl[t]{35,0;$x$}
\lbl[t]{24,0;$m$}
\lbl[r]{.5,35;$y$}
\lbl{23,28;$\tau$}
\end{lpic}
\end{wrapfigure}

Assume the contrary; let $x$ and $y$ be two points in one connected component 
and $|x-y|_M\ge 100$.
Connect $x$ to $y$ by a curve $\tau$ in the component.
Consider the closed curve $\sigma$ formed by two geodesics $[px]$, $[py]$ and $\tau$.


Note that $|p-x|>40$.
Therefore there is a point $m$ on $[px]$ such that $|m-x|=20$.

By triangle inequality, the subsdivision of $\sigma$ into the arcs $[pm]$, $[mx]$, $\tau$ and $[yp]$ satisfy the assumption of the claim $({*})$ for $a=10$.
Hence the statement follows.\qeds

The problem was discussed in a talk by Nikita Zinoviev around 2004.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{No Lipschitz embedding.}
Consider a chain of circles $c_0,\dots,c_n$ in $\RR^3$;
that is, $c_i$ and $c_{i-1}$ are linked for each $i$. 


\begin{center}
\begin{lpic}[t(-0 mm),b(0 mm),r(0 mm),l(0 mm)]{pics/chain(1)}
\lbl[t]{5,0;$c_0$}
\lbl[t]{11,0;$c_1$}
\lbl[t]{31,0;$\cdots$}
\lbl[t]{54,0;$c_n$}
\end{lpic}
\end{center}


Assume that $\RR^3$ is equipped with a length-metric $\rho$,
such that the total length of the circles is $\ell$
and $U$ is an open bounded set containing all the circles $c_i$.
Note that for any $L$-Lipschitz embedding $f\:(U,\rho)\to\RR^3$ the distance from $f(c_0)$ to $f(c_n)$ is less than $L\cdot\ell$.

The $\rho$-distance from $c_0$ to $c_n$ might be much larger than $L\cdot\ell$.
Indeed, fix a line segment $[ab]$ in $\RR^3$.
Modify 
the length-metric on $\RR^3$ in a small neighborhood of $[ab]$
so that there is a chain $(c_i)$ of circles as above,
which goes from $a$ to $b$ 
such that
(1) the total length, say $\ell$, 
of all the circles $c_i$ is arbitrary small,
but 
(2) the obtained metric $\rho$ 
is arbitrary close to the canonical, say
\[\bigl|\rho(x,y)-|x-y|\bigr|<\eps\]
for any two points $x,y\in\RR^3$
and fixed in advanced small value $\eps>0$.
The construction of $\rho$ 
is done by shrinking the length of each circle
and expanding the length in the normal directions  
to the circles in their small neighborhood.
The latter is made in order to make impossible to use the circles $c_i$ as a shortcut;
that is, one spends more time to go from one circle to an other 
than saves on going along the circle.

Set $a_n=(0,\tfrac1n,0)$ and $b_n=(1,\tfrac1n,0)$.
Note that the line segments $[a_nb_n]$ are disjoint and converging
to $[a_\infty b_\infty]$
where $a_\infty=(0,0,0)$ and $b_\infty=(1,0,0)$.

Apply the above construction in non-overlapping convex neighborhoods of $[a_nb_n]$ 
and for a sequences 
$\eps_n$ and $\ell_n$ 
which converge to zero very fast.

The obtained length-metric $\rho$ is still close to the canonical metric on $\RR^3$,
but it does not admit 
a locally Lipschitz homeomorphism to $\RR^3$.
Indeed, 
assume such homeomorphism $h$ exists.
Fix a bounded open set $U$ containing $[a_\infty b_\infty]$;
note that the restriction $h|_U$ is $L$-Lipschitz for some $L$.
From the above construction,
we get 
\begin{align*}
|h(a_\infty)-f(b_\infty)|
&\le 
|h(a_n)-f(b_n)|
+
\\
&\ \ \ \ \ +
|h(a_\infty)-f(a_n)|
+
|h(b_n)-f(b_\infty)|
\le
\\
&\le
L\cdot\ell_n+\tfrac2n+100\cdot\eps_n
\end{align*}
for any positive integer $n$.
The right hand side converges to $0$ as $n\to\infty$.
Therefore 
\[h(a_\infty)=f(b_\infty),\] 
a contradiction.\qeds



The problem is due
Dmitri Burago, 
Sergei Ivanov 
and David Shoenthal \cite[see][]{BIS}.

It is expected that any metric on $\RR^2$ admits local Lipschitz embeddings into the Euclidean plane.
Also, it seems feasible that any metric on $\RR^3$ admits a locally Lipschitz embedding into $\RR^4$.

Note that any metric on the cube in $\RR^3$ admits a proper locally Lipschitz map the unit cube of degree 1.
Moreover one can make this map injective on any finite set of points.
It is instructive to visualize this map for the metric as in the solution.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Sub-Riemannian sphere.}
If $d$ is a sub-Riemannian metric on $\mathbb{S}^m$,
then there is a non-decreasing sequence of Riemannian metric tensors
$g_0< g_1<\dots$ such that their induced metrics $d_1<d_2<\dots$ converge to $d$.
The metric $g_0$ can be assumed to be a metric on round sphere,
so it is induced by an embedding $h_0\:\mathbb{S}^m\to \RR^{m+1}$.

Applying the construction as in Nash--Kuiper theorem,
one can produce a sequence of smooth embeddings $h_n\:\mathbb{S}^m\to \RR^{m+1}$ with the induced metrics $g_n'$
such that $|g_n'-g_n|\to 0$.
In particular, if we denote by $d'_n$ the metric corresponding to $g_n$, then $d'_n\to d$ an $n\to\infty$.

From the same construction it follows that
if one choose $\eps_n>0$, depending on $h_n$,
then we can assume that 
\[|h_{n+1}(x)-h_n(x)|<\eps_n\] for any $x\in \mathbb{S}^m$.

Let us introduce two conditions on the values $\eps_n$, called \emph{weak} and \emph{strong}.

The weak condition states that $\eps_{n}< \tfrac1{2}\cdot \eps_{n-1}$ for any $n$.
This ensures that the sequence of maps $h_n$ converges pointwise;
denote its limit by $h_\infty$.

Denote by $\bar d$ the length-metric induced by $h_\infty$.
Note that $\bar d\le d$.
The strong condition on $\eps_n$ will ensure that actually $\bar d=d$.

Fix $n$ and assume that $h_n$ and therefore $\eps_{n-1}$ are constructed already.
Set $\Sigma=h_n(\mathbb{S}^m)$
and let $\Sigma_r$ be the tubular $r$-neighborhood of $\Sigma$.
Equip $\Sigma$ and $\Sigma_r$ with the induced length-metrics.
Since $\Sigma$ is a smooth hypersurface, we can choose $r_n\in(0,\eps_{n-1}]$ 
so that the inclusion $\Sigma\hookrightarrow \Sigma_{r_n}$ preserves the distance up to the error $\tfrac1{2^n}$.
Then the strong condition says that $\eps_n< \tfrac12\cdot r_n$, 
which is evidently stronger than the weak condition  $\eps_{n}< \tfrac1{2}\cdot \eps_{n-1}$ above.

Note that if the sequence $h_n$ is constructed with the described choice of $\eps_n$,
then $|h_\infty(x)-h_n(x)|<r_n$ for any $x\in\mathbb{S}^m$.
Therefore 
\[\bar d(x,y)+2\cdot r_n+\tfrac1{2^n}\ge d_n'(x,y)\] 
for any $n$ and $x,y\in \mathbb{S}^m$;
hence $\bar d\ge d$ as required. 
\qeds


The problem appeared 
on this list first rediscovered by Enrico Le Donne \cite[see][]{le-donne}.
Similar construction described in the lecture notes by Allan Yashinski and me \cite[see][]{petrunin-yashinsky} 
which is aimed for undergraduate students. 
Yet the results in \cite{petrunin-paths} are closely relevant.

The construction in the Nash--Kuiper embedding theorem
can be used to prove some seemingly irrelevant statements.
Here is one example based on the observation that Weyl curvature tensor 
is vanishing on hypersurfaces in the Euclidean space.
\begin{itemize}
\item Let $M$ be a Riemannian manifold diffeomorphic to the $m$-sphere. 
Show that there is a Riemannian manifold $M'$ arbitrary close to $M$ in Lipschitz metric and vanishing Weyl curvature tensor.
\end{itemize}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Length-preserving map.}
Assume contrary;
let $f\:\RR^2\to \RR$ be a length-preserving map.

Note that $f$ is Lipschitz.
Therefore by Rademacher's theorem \cite[see][]{rademacher}, the differential $d_xf$ is defined for  almost all $x$.

Fix a unit vector $u$.
Given $x\in\RR^2$,
consider the path $\alpha_x(t)\z=x+t\cdot u$ defined for $t\in [0,1]$.
Note that  
\[\alpha'_x(t)=(d_{\alpha_x(t)}f)(u)\]
holds for almost all $x$ and $t$.
It follows that 
\[\length(f\circ\alpha_x)=\int\limits_0^1 |(d_{\alpha_x(t)}f)(u)| \cdot dt\]
for almost all $x$.

Therefore $|d_xf(v)|=|v|$ for almost all $x,v\in\RR^2$.
In particular there is $x\in\RR^2$ such that the differential $d_xf$ is defined 
and 
\[|d_xf(e_1)|=|e_1|,
\quad
|d_xf(e_2)|=|e_2|,
\quad
|d_xf(e_1+e_2)|=|e_1+e_2|\]
for a basis $(e_1,e_2)$ of $\RR^2$.
It follows that $d_xf$ has rank 2, a contradiction. \qeds 


The idea above can be also used to solve the following problem.

\begin{pr} Assume $\rho$ is a metric on $\RR^2$ 
which is induced by a norm.
Show that $(\RR^2,\rho)$ admits 
a length-preserving map
to $\RR^3$ 
if and only if 
$(\RR^2,\rho)$ is isometric to the Euclidean plane.
\end{pr}








%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Fixed segment.}
Note that it is sufficient to show that 
if 
\[f(a)=a\ \ \text{and}\ \ f(b)=b\]
for some $a,b\in\RR^m$,
then 
\[f(\tfrac{a+b}2)=\tfrac12\cdot(f(a)+f(b)).\]


Without loss of generality, we can assume that $b+a=0$.

Set $f_0=f$.
Consider the recursively defined sequence of isometries $f_0$, $f_1,\dots$ such that
\[f_{n+1}(x)= -f_n^{-1}(-f_n(x))\]
for any $n$.

Note that $f_n(a)=a$ and $f_n(b)=b$ for any $n$ and 
$$|f_{n+1}(0)|=2\cdot|f_n(0)|.$$
Therefore  
if $f(0)\ne 0$,
then $|f_n(0)|\to\infty$ as $n\to\infty$.

On the other hand, since $f_n$ is isometry and $f(a)=a$,
we get $|f_n(0)|\le 2\cdot |a|$, a contradiction.
\qeds

The idea in the proof is due to  Jussi V\"ais\"al\"a's \cite[see][]{vaisala}.
The problem is the main step in the proof of Mazur--Ulam  \cite[see][]{mazur-ulam},
which states that any isometry of $(\RR^m,\rho)$ to itself is an affine map. 


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\parbf{Pogorelov's construction.}
Positivity and symmetry of $\rho$ is evident.

The triangle inequality follows since
\[[B(x,\tfrac \pi2)\backslash B(y,\tfrac\pi2)]
\cup 
[B(y,\tfrac\pi2)\backslash B(z,\tfrac\pi2)]
\supseteq
B(x,\tfrac \pi2) \backslash B(z,\tfrac\pi2)
\leqno(*)\]
and 
$B(x,\tfrac \pi2)\backslash B(y,\tfrac\pi2)$
does not overlap
$B(y,\tfrac\pi2)\backslash B(z,\tfrac\pi2)$.


\begin{wrapfigure}{r}{31 mm}\begin{lpic}[t(-0 mm),b(0 mm),r(0 mm),l(0 mm)]{pics/B1B2B3(1)}
\lbl{25,7,60;$B(x,\tfrac\pi2)$}
\lbl{6,7,-60;$B(y,\tfrac\pi2)$}
\lbl{15,23;$B(z,\tfrac\pi2)$}
\end{lpic}
\end{wrapfigure}

Note that we get equality in $(*)$ if and only if $y$ lies on the great circle arc from $x$ to $z$.
Therefore the second statement follows.\qeds


This construction was given by 
Aleksei Pogorelov \cite[see][]{pogorelov}.
It is closely related to the construction given 
by David Hilbert in \cite[see][]{hilbert}
which was the motivating example of his 4th problem.


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Straight geodesics.}
From the uniqueness of straight segment between given points in $\RR^m$,
it follows that any straight line in $\RR^m$ is a geodesic in $(\RR^m,\rho)$.

Set 
\[\|\bm{v}\|_{\bm{x}}=\rho(\bm{x},(\bm{x}+\bm{v})).\]
Note that 
\[ \|\lambda\cdot\bm{v}\|_{\bm{x}}
=
|\lambda|\cdot\|\bm{v}\|_{\bm{x}}\]
for any $\bm{x},\bm{v}\in\RR^m$ and $\lambda\in\RR$.

Denote by $|x-y|$ the Euclidean distance between the points $x$ and~$y$.
Since $\rho$ is bi-Lipschitz to $|{*}-{*}|$,
applying triangle inequality twice for the points $\bm{x}$, $\bm{x}+\lambda\cdot\bm{v}$, $\bm{x}'$ and $\bm{x}'+\lambda\cdot\bm{v}$, we get
\[
\bigl|\|\lambda\cdot\bm{v}\|_{\bm{x}}
-
\|\lambda\cdot\bm{v}\|_{\bm{x}'}\bigr|
\le 
C\cdot |\bm{x}-\bm{x'}|\]
for any $\bm{x},\bm{x'},\bm{v}\in\RR^m$, 
$\lambda\in\RR$
and a fixed real constant $C$.

Passing to the limit as $\lambda\to\infty$, 
we get
$\|\bm{v}\|_{\bm{x}}$ does not depend on $\bm{x}$;
hence the result follows.\qeds


The idea is due to Thomas Foertsch
and Viktor Schroeder \cite[see][]{foertsch-schroeder}.
A more general statement was proved by Petra Hitzelberger and Alexander Lytchak \cite[see][]{hitzelberger-lytchak}.
Namely they show that 
if any pair of points in a geodesic metric space $X$ can be separated by an \emph{affine function},
then $X$ is isometric to a convex subset in a normed vector space.
(A function $f\:X\to\RR$ is called affine if for any geodesic $\gamma$ in $X$, the composition $f\circ\gamma$ is affine.)


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Hyperbolic space.}
The hyperbolic plane $\HH^2$ is isometric to $(\RR^2,g)$, where 
\[g(x,y)=\left(\begin{matrix}
     1&0
     \\
     0&e^{x}
    \end{matrix}\right).\]
The same way, the hyperbolic space $\HH^3$
can be viewed as $(\RR^3,h)$, where 
\[h(x,y,z)=\left(\begin{matrix}
     1&0&0
     \\
     0&e^{x}&0
     \\
     0&0&e^{x}
\end{matrix}\right).\]
    
In the described coordinates, consider the projections $\HH^3\to\HH^2$ defined as 
$\phi\:(x,y,z)\mapsto (x,y)$ and $\psi\:(x,y,z)\mapsto (x,z)$.
Note that 
\begin{align*}
|\phi(p)-\phi(q)|_{\HH^2},&
\\
\quad |\psi(p)-\psi(q)|_{\HH^2}
&\le
|p-q|_{\HH^3}
\le
\\
&\le
|\phi(p)-\phi(q)|_{\HH^2}+ |\psi(p)-\psi(q)|_{\HH^2}
\end{align*}
for any two points $p,q\in \HH^3$.
In particular, the map $\HH^3\to\HH^2\times\HH^2$ defined as $p\mapsto (\phi(p),\psi(p))$
is $2^{\mp1}$-bi-Lipschitz.\qeds

We used that horo-sphere in the hyperbolic space is isometric to the Euclidean plane.
This observation was made already by Nikolai Lobachevsky \cite[see 34 in][]{lobachevsky}.

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Quasi-isometry of a Euclidean space.}
Fix two constants $M\ge 1$ and $A\ge 0$.
A map $f\:X\z\to Y$ between metric spaces $X$ and $Y$ such that for any $x,y\in X$,
 we have
\[\tfrac1M\cdot |x-y|-A\le |f(x)-f(y)|\le M\cdot |x-y|+A\]
and any point in $Y$ lies on the distance at most $A$ from a point in the image $f(X)$
will be called $(M,A)$-quasi-isometry.

{\sloppy
Note that $(M,0)$-quasi-isometry is a $[\tfrac1M,M]$-bi-Lipschitz map.
Moreover,
if $f_n\:\RR^m\to\RR^m$ is a  $(M,\frac1n)$-quasi-isometry 
for each $n$, 
then any partial limit of $f_n$ as $n\to\infty$
is a $[\tfrac1M,M]$-bi-Lipschitz map.

}

It follows that given $M\ge 1$ and $\eps>0$ there is $\delta>0$ such that 
for any $(M,\delta)$-quasi-isometry $f\:\RR^m\to\RR^m$ and any $p\in \RR^m$
there is an $[\tfrac1M,M]$-bi-Lipschitz map $h\:B(p,1)\to \RR^m$
such that
\[|f(x)-h(x)|<\eps\]
for any $x\in B(p,1)$.

Applying rescaling, we can get the following equivalent formulation. 
Given $M\ge 1$, $A\ge 0$ and $\eps>0$
there is big enuf $R>0$ such that for any $(M,A)$-quasi-isometry 
$f\:\RR^m\to\RR^m$ and any $p\in\RR^m$ there is a $[\tfrac1M,M]$-bi-Lipschitz map $h\:B(p,R)\to \RR^m$
such that 
\[|f(x)-h(x)|<\eps\cdot R\]
for any $x\in B(p,R)$.

Cover $\RR^m$ by balls
$B(p_n,R)$, construct a $[\tfrac1M,M]$-bi-Lipschitz map $h_n\:B(p_n,R)\to \RR^m$ close to the restrictions $f|_{B(p_n,R)}$ for each $n$.

The maps $h_n$ are $2\cdot \eps\cdot R$ close to each other on the overlaps of their domains of definition.
This makes possible to deform slightly each $h_n$ so that they agree on the overlaps.
This can be done by Siebenmann's Theorem \cite[see][]{siebenmann}.
If instead you apply Sullivan's theorem \cite[see][]{sullivan}, you get a bi-Lipschitz homeomorphism $h\:\RR^m\z\to\RR^m$.\qeds


The problem was suggested by Dmitri Burago.





%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\parbf{Family of sets with no section.} 
Given $t\in (0,1]$ consider the real interval $\tilde C_t=[\tfrac 1t+t, \tfrac 1t+1]$.
Denote by $C_t$ the image of $\tilde C_t$ under the covering map $\pi\:\RR\to \mathbb{S}^1=\RR/\ZZ$.

Set $C_0=\mathbb{S}^1$.
Note that Hausdorff distance from $C_0$ to $C_t$ is $\tfrac t2$.
Therefore $\{C_t\}_{t\in[0,1]}$ is a family of compact subsets in $\mathbb{S}^1$
which is continuous in the sense of Hausdorff.

\medskip

Assume there is a continuous section $c(t)\in C_t$, for $t\in [0,1]$.
Since $\pi$ is a covering map,
we can lift the path $c$ to a path $\tilde c\:[0,1]\to \RR$ such that $\tilde c(t)\in \tilde C_t$ for any $t$.
In particular $\tilde c(t)\to\infty$ as $t\to0$,
a contradiction.\qeds


The problem is suggested by Stephan Stadler.
Here is a simpler, closely related problem.
\begin{pr}
Show that any Hausdorff continuous family of compact sets in $\RR$ admits a continuous section.
\end{pr}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%5
\begin{wrapfigure}{o}{33 mm}
\begin{lpic}[t(-8 mm),b(0 mm),r(0 mm),l(0 mm)]{pics/comb(1)}
\end{lpic}
\end{wrapfigure}


\parbf{Spaces with isometric balls.} 
The needed examples can be constructed from the upper half-plane
by cutting it along a ``dyadic comb'' shown on the diagram
and equipping the obtained space with the intrinsic metric induced from the $\ell_\infty$-norm on the plane. 
Few concentric balls in this metric are shown on the diagram.


\medskip

First let us describe the comb precisely.
Fix an infinite sequence $a_0,a_1,\dots$ of zeros and ones.
Given an integer $k$ cut a the upper half-plane along the line segment from $(k,0)$ to $(k,2^{m+1})$ 
if $m$ is the maximal number such that 
\[k\equiv a_0+2\cdot a_1+\dots+2^{m-1}\cdot a_{m-1}\pmod{2^{m}};\]
If the equality holds for all $m$, cut the plane along the vertical half-line from $(k,0)$.

Note that all the obtained spaces, independently from the sequence $(a_n)$, meet the conditions for the point $x_0=(\tfrac12,0)$.

Note yet that the resulting spaces for two sequences $(a_n)$ and $(a'_n)$ are isometric only in the following two cases 
\begin{itemize}
\item if $a_n=a_n'$ for all large $n$, or
\item if $a_n=1-a_n'$  for all large $n$.
\end{itemize}

It remains to produce two sequences which do not have these identities for all large $n$; 
two random sequences of zeros and ones do the job with probability one.\qeds